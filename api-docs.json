{"openapi":"3.0.1","info":{"title":"CentralBus Proveedor API","description":"API oficial de CentralBus para exponer información de líneas de autobuses, tarifas y disponibilidad de boletos. Diseñada para integradores que deseen ofrecer servicios de compra de boletos desde sistemas externos.","contact":{"name":"CentralBus","url":"https://centralbus.mx","email":"contacto@centralbus.mx"},"license":{"name":"Licencia Apache 2.0","url":"https://www.apache.org/licenses/LICENSE-2.0.html"},"version":"1.0.0"},"servers":[{"url":"http://localhost:8090/centralbus-api","description":"Generated server url"}],"tags":[{"name":"01 - Salud","description":"Verifica si el servicio está activo."},{"name":"02 - Autenticación","description":"Endpoints para autenticarse y obtener tokens."},{"name":"03 - Busqueda","description":"Endpoints para obtener rutas, orígenes y destinos de autobuses disponibles."},{"name":"04 - Reserva","description":"Endpoints para reservar y desreservar asientos."}],"paths":{"/sale/presale":{"post":{"tags":["05 - Venta"],"summary":"Registra preventa de boletos","description":"Este endpoint permite registrar preventas en corridas de todas las líneas. Se requiere enviar la información del viaje, los asientos y pasajeros","operationId":"createPresale","parameters":[{"name":"centralbus-api-key","in":"header","description":"API Key de acceso","required":true,"schema":{"type":"string"},"example":"12345-abcde-67890"},{"name":"Authorization","in":"header","description":"Token JWT para autenticación","required":true,"schema":{"type":"string"},"example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PresaleCreateBodyRequest"}}},"required":true},"responses":{"200":{"description":"Preventa registrada con éxito","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PresaleOkResponse"}}}},"500":{"description":"Error interno al registrar la preventa","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PresaleInternalErrorResponse"}}}}}}},"/sale/confirm":{"post":{"tags":["05 - Venta"],"summary":"Confirma una venta de boletos","description":"Este endpoint permite confirmar una preventa previamente registrada y generar los boletos correspondientes. ","operationId":"confirmSale","parameters":[{"name":"centralbus-api-key","in":"header","description":"API Key de acceso","required":true,"schema":{"type":"string"},"example":"12345-abcde-67890"},{"name":"Authorization","in":"header","description":"Token JWT para autenticación","required":true,"schema":{"type":"string"},"example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentData"}}},"required":true},"responses":{"404":{"description":"Venta cancelada o información inválida","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SaleBadRequestResponse"}}}},"200":{"description":"Venta confirmada con éxito","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SaleOkResponse"}}}},"500":{"description":"Error interno al confirmar la venta","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SaleInternalErrorResponse"}}}}}}},"/reservation/delete":{"post":{"tags":["04 - Reserva"],"summary":"Elimina reservación de asientos","description":"Este endpoint permite desreservar asientos en corridas de todas las líneas. Se requiere enviar la información del viaje, los asientos y los pasajeros.","operationId":"deleteReservations","parameters":[{"name":"centralbus-api-key","in":"header","description":"API Key de acceso","required":true,"schema":{"type":"string"},"example":"12345-abcde-67890"},{"name":"Authorization","in":"header","description":"Token JWT para autenticación","required":true,"schema":{"type":"string"},"example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReservationCreateBodyRequest"}}},"required":true},"responses":{"200":{"description":"Asientos desreservados con éxito","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnReserveSeatOkResponse"}}}},"409":{"description":"Conflicto: Uno o más asientos no están reservados","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnReserveSeatConflictResponse"}}}},"404":{"description":"Datos inválidos de origen o destino","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReserveBadRequestResponse"}}}},"500":{"description":"Error interno al desreservar asientos","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReserveInternalErrorResponse"}}}}}}},"/reservation/create":{"post":{"tags":["04 - Reserva"],"summary":"Crea reservación de asientos","description":"Este endpoint permite reservar asientos en corridas de todas las líneas. Se requiere enviar la información del viaje, los asientos y pasajeros","operationId":"createReservations","parameters":[{"name":"centralbus-api-key","in":"header","description":"API Key de acceso","required":true,"schema":{"type":"string"},"example":"12345-abcde-67890"},{"name":"Authorization","in":"header","description":"Token JWT para autenticación","required":true,"schema":{"type":"string"},"example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReservationCreateBodyRequest"}}},"required":true},"responses":{"200":{"description":"Asientos reservados con éxito","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReserveSeatOkResponse"}}}},"409":{"description":"Conflicto: Uno o más asientos ya están reservados","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReserveSeatConflictResponse"}}}},"404":{"description":"Datos inválidos de origen o destino","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReserveBadRequestResponse"}}}},"500":{"description":"Error interno al reservar asientos","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReserveInternalErrorResponse"}}}}}}},"/search/seats":{"get":{"tags":["03 - Busqueda"],"summary":"Obtener asientos disponibles","description":"Obtiene los asientos disponibles para una fecha de salida (y opcionalmente una de regreso), agrupados por viaje.","operationId":"getSeats","parameters":[{"name":"centralbus-api-key","in":"header","description":"API Key de acceso","required":true,"schema":{"type":"string"},"example":"12345-abcde-67890"},{"name":"Authorization","in":"header","description":"Token JWT para autenticación","required":true,"schema":{"type":"string"},"example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."},{"name":"marketing_carrier","in":"query","description":"Clave del operador o línea de transporte","required":true,"schema":{"type":"string"},"example":"ETN"},{"name":"departure_station","in":"query","description":"Estación de origen (clave)","required":true,"schema":{"type":"string"},"example":"MEX"},{"name":"arrival_station","in":"query","description":"Estación de destino (clave)","required":true,"schema":{"type":"string"},"example":"GDL"},{"name":"departure_time","in":"query","description":"Fecha y hora de salida (formato ISO)","required":true,"schema":{"type":"string"},"example":"2025-08-01T08:00"},{"name":"arrival_time","in":"query","description":"Fecha y hora estimada de llegada (formato ISO)","required":true,"schema":{"type":"string"},"example":"2025-08-01T13:30"},{"name":"return_departure_time","in":"query","description":"Fecha y hora de salida para el viaje de regreso (opcional, formato ISO)","required":false,"schema":{"type":"string","default":"null"},"example":"2025-08-10T16:00"},{"name":"return_arrival_time","in":"query","description":"Fecha y hora estimada de llegada para el regreso (opcional, formato ISO)","required":false,"schema":{"type":"string","default":"null"},"example":"2025-08-10T21:30"},{"name":"fare_class","in":"query","description":"Clase tarifaria (ej. regular, LUJO, FARE-1, FARE-2, FARE-3)","required":true,"schema":{"type":"string"},"example":"regular"}],"responses":{"200":{"description":"Asientos obtenidos correctamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SeatOkResponse"}}}},"404":{"description":"Sin contenido disponible para mostrar","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SeatNoContentResponse"}}}},"500":{"description":"Error interno del servidor","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SeatInternalErrorResponse"}}}}}}},"/search/origins":{"get":{"tags":["03 - Busqueda"],"summary":"Obtener orígenes disponibles","description":"Este endpoint devuelve la lista de estaciones de origen disponibles para venta de boletos.","operationId":"getOrigins","parameters":[{"name":"centralbus-api-key","in":"header","description":"API Key de acceso","required":true,"schema":{"type":"string"},"example":"12345-abcde-67890"},{"name":"Authorization","in":"header","description":"Token JWT para autenticación","required":true,"schema":{"type":"string"},"example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}],"responses":{"200":{"description":"Estaciones obtenidas con éxito","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OriginOkResponse"}}}},"404":{"description":"Sin contenido","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OriginNoContentResponse"}}}},"500":{"description":"Error interno al obtener la estaciones de origen","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthInternalErrorResponse"}}}}}}},"/search/itineraries":{"get":{"tags":["03 - Busqueda"],"summary":"Obtener itinerarios disponibles","description":"Obtiene una lista de itinerarios agrupados por línea de autobús para una fecha de salida (y opcionalmente una de regreso), incluyendo información de precio, disponibilidad y estaciones.","operationId":"getItineraryByCarrier","parameters":[{"name":"centralbus-api-key","in":"header","description":"API Key de acceso","required":true,"schema":{"type":"string"},"example":"12345-abcde-67890"},{"name":"Authorization","in":"header","description":"Token JWT para autenticación","required":true,"schema":{"type":"string"},"example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."},{"name":"departure_stations","in":"query","description":"Códigos de estaciones de origen","required":true,"schema":{"type":"array","items":{"type":"string"}},"example":["1001"]},{"name":"arrival_stations","in":"query","description":"Códigos de estaciones de destino","required":true,"schema":{"type":"array","items":{"type":"string"}},"example":["2001"]},{"name":"departure_date","in":"query","description":"Fecha de salida en formato yyyy-MM-dd","required":true,"schema":{"type":"string"},"example":"2025-08-01"},{"name":"return_date","in":"query","description":"Fecha de regreso en formato yyyy-MM-dd. Opcional","required":false,"schema":{"type":"string","default":"null"},"example":"2025-08-05"},{"name":"pax","in":"query","description":"Cantidad de pasajeros. Por defecto 1","required":false,"schema":{"type":"integer","format":"int32","default":1},"example":1}],"responses":{"200":{"description":"Itinerarios obtenidos correctamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItineraryOkResponse"}}}},"204":{"description":"No se encontraron itinerarios disponibles","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItineraryNoContentResponse"}}}},"429":{"description":"Demasiadas solicitudes","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItineraryTooManyRequestsResponse"}}}},"500":{"description":"Error interno al obtener itinerarios disponibles","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItineraryInternalErrorResponse"}}}}}}},"/search/destinations":{"get":{"tags":["03 - Busqueda"],"summary":"Obtener destinos disponibles","description":"Este endpoint devuelve la lista de estaciones destino, basado en los IDs de origen proporcionados.","operationId":"getOrigins_1","parameters":[{"name":"origin_ids","in":"query","description":"IDs de las estaciones de origen separados por comas. Si no se envía, se devuelve un error 204.","required":false,"schema":{"type":"string","default":"null"},"example":"1001,1002"},{"name":"centralbus-api-key","in":"header","description":"API Key de acceso","required":true,"schema":{"type":"string"},"example":"12345-abcde-67890"},{"name":"Authorization","in":"header","description":"Token JWT para autenticación","required":true,"schema":{"type":"string"},"example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}],"responses":{"200":{"description":"Terminales obtenidas con éxito","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DestinyOkResponse"}}}},"404":{"description":"Sin contenido","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DestinyNoContentResponse"}}}},"500":{"description":"Error interno al obtener la estaciones de destino","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DestinyInternalErrorResponse"}}}}}}},"/health":{"get":{"tags":["01 - Salud"],"summary":"Verificar estado del servicio","description":"Confirma que la API esté operativa y que haya conexión válida a la base de datos.","operationId":"health","responses":{"200":{"description":"El servicio está operativo","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthOkReponse"}}}},"503":{"description":"El servicio no está disponible temporalmente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthUnavailableReponse"}}}}}}},"/auth":{"get":{"tags":["02 - Autenticación"],"summary":"Autenticación automática","description":"Genera un token JWT temporal (10 minutos) que puede utilizarse para realizar peticiones autenticadas a otros endpoints del API.","operationId":"autoLogin","responses":{"500":{"description":"Error interno al generar o almacenar el token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthInternalErrorResponse"}}}},"200":{"description":"Token JWT generado exitosamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthOkReponse"}}}}}}}},"components":{"schemas":{"PresaleBodyResponse":{"type":"object","properties":{"id":{"type":"string","description":"Identificador único de la preventa generada.","example":"RMTKIQXD"},"type":{"type":"string","description":"Tipo de recurso. Siempre será 'presale'.","example":"presale"},"state":{"type":"string","description":"Estado actual de la preventa.","example":"created","enum":["created","cancelled"]},"createdAt":{"type":"string","description":"Fecha y hora de creación de la preventa, en formato ISO 8601 (YYYY-MM-DDThh:mm).","example":"2025-08-01T04:16"}},"description":"Objeto de respuesta que representa los detalles de una preventa registrada exitosamente."},"PresaleOkResponse":{"type":"object","properties":{"code":{"type":"integer","description":"Código de estado","format":"int32","example":200},"message":{"type":"string","description":"Mensaje de respuesta","example":"Operación exitosa"},"body":{"$ref":"#/components/schemas/PresaleBodyResponse"}},"description":"Success"},"PresaleInternalErrorResponse":{"type":"object","properties":{"code":{"type":"integer","description":"Código de estado HTTP","format":"int32","example":500},"message":{"type":"string","description":"Mensaje descriptivo del error","example":"Ocurrió un error. Por favor, verifica que la información enviada sea correcta"}},"description":"Internal Server Error"},"Passenger":{"required":["fullName","seats","type"],"type":"object","properties":{"type":{"type":"string","description":"Tipo de pasajero. PNOS=Adulto, PCIL=Niño, PSOE=INAPAM","example":"PNOS","enum":["PNOS","PCIL","PSOE"]},"fullName":{"type":"string","description":"Nombre completo del pasajero tal como aparece en su identificación oficial o como será impreso en el boleto.","example":"Manuel Díaz Arcos"},"seats":{"type":"array","description":"Lista de asientos asignados a este pasajero","items":{"$ref":"#/components/schemas/SeatReserve"}}},"description":"Representa a un pasajero dentro de la reservación"},"PresaleCreateBodyRequest":{"required":["arrivalStation","arrivalTime","currency","departureStation","departureTime","fareClass","locale","marketingCarrier","passengers"],"type":"object","properties":{"marketingCarrier":{"type":"string","description":"Identificador del operador comercial que vende el boleto","example":"CBAI_87"},"departureStation":{"type":"string","description":"Clave de la estación de origen","example":"CB_24"},"arrivalStation":{"type":"string","description":"Clave de la estación de destino","example":"CB_25"},"departureTime":{"type":"string","description":"Fecha y hora de salida del viaje en formato ISO 8601"},"arrivalTime":{"type":"string","description":"Fecha y hora estimada de llegada del viaje en formato ISO 8601","example":"2025-08-05T15:20"},"returnDepartureTime":{"type":"string","description":"Fecha y hora de salida del viaje de regreso (opcional), en formato ISO 8601","example":"2025-08-07T06:00"},"returnArrivalTime":{"type":"string","description":"Fecha y hora de llegada del viaje de regreso (opcional), en formato ISO 8601","example":"2025-08-07T09:00"},"locale":{"type":"string","description":"Idioma preferido del cliente en formato ISO 639-1","example":"es","enum":["es"]},"currency":{"type":"string","description":"Moneda de la reservación, en formato ISO 4217","example":"MXN","enum":["MXN"]},"fareClass":{"type":"string","description":"Clase tarifaria del boleto, si aplica","example":"regular","enum":["regular","LUJO","FARE-1","FARE-2","FARE-3"]},"passengers":{"type":"array","description":"Lista de pasajeros","items":{"$ref":"#/components/schemas/Passenger"}}},"description":"Cuerpo de la solicitud para hacer la preventa de los boletos"},"SeatReserve":{"required":["seatCode","segmentIndex"],"type":"object","properties":{"seatCode":{"type":"string","description":"Código del asiento exactamente como lo devuelve el endpoint /seats. Si la unidad no proporciona número de asiento, asignar 0","example":"12","default":"0"},"segmentIndex":{"type":"integer","description":"Índice del segmento al que pertenece el asiento 1=Viaje de ida, 2=Viaje de vuelta","format":"int32","example":1,"enum":[1,2]}},"description":"Representa un asiento reservado en un segmento específico del viaje"},"PaymentData":{"type":"object","properties":{"reservationId":{"type":"string","description":"Identificador único de la reservación.","example":"RMTKIQXD"},"chargeId":{"type":"string","description":"Identificador único del cargo generado.","example":"2xkq3hzn5mqklvwjc"},"amount":{"type":"number","description":"Monto total del pago en pesos mexicanos (MXN).","example":1079.06},"paymentMethod":{"type":"string","description":"Método de pago utilizado.","example":"card","enum":["card","bank_transfer","store"]},"paidAt":{"type":"string","description":"Fecha y hora en la que se realizó el pago, en formato ISO 8601.","example":"2025-08-01T04:16"},"firstName":{"type":"string","description":"Nombre del titular del pago (tal como aparece en la tarjeta, sin acentos).","example":"JUAN ARCOS"},"lastName":{"type":"string","description":"Apellido del titular del pago (tal como aparece en la tarjeta, sin acentos).","example":"PEREZ PEREZ"},"phone":{"type":"string","description":"Número telefónico del pagador.","example":"5512345678"},"email":{"type":"string","description":"Correo electrónico del pagador. Se usará para enviar confirmaciones y boletos.","example":"juan.perez@example.com"},"sendEmail":{"type":"boolean","description":"Indica si se enviarán los boletos por correo electrónico al cliente. Por defecto es true. Si es false, no se enviará ningún correo.","example":true,"enum":[true,false]},"authCode":{"type":"string","description":"Código de autorización proporcionado por el proveedor de pagos.","example":"AUTH123456"},"cardNumber":{"type":"string","description":"Últimos cuatro dígitos del número de tarjeta.","example":"1234"},"binNumber":{"type":"string","description":"Primeros seis dígitos de la tarjeta utilizados para identificar el emisor (BIN).","example":"411111"},"expirationMonth":{"type":"string","description":"Mes de vencimiento de la tarjeta, en formato MM.","example":"08"},"expirationYear":{"type":"string","description":"Año de vencimiento de la tarjeta, en formato AAAA.","example":"28"}},"description":"Datos devueltos al procesar un pago exitoso."},"SaleBadRequestResponse":{"type":"object","properties":{"code":{"type":"integer","description":"Código de estado HTTP","format":"int32","example":404},"message":{"type":"string","description":"Mensaje descriptivo del error","example":"Ocurrió un error. Por favor, verifica que la información enviada sea correcta"}},"description":"Bad Request"},"SaleBodyResponse":{"type":"object","properties":{"id":{"type":"string","description":"Identificador único de la preventa generada.","example":"RMTKIQXD"},"type":{"type":"string","description":"Tipo de recurso. Siempre será 'sale'.","example":"sale"},"state":{"type":"string","description":"Estado actual de la preventa.","example":"created","enum":["created","cancelled"]},"base64Tickets":{"type":"string","description":"Cadena en formato Base64 que contiene los boletos generados.","example":"JVBERi0xLjQKJ..."},"saleDetails":{"type":"array","description":"Lista de detalles de cada boleto vendido, incluyendo información de compra, viaje, pasajero y reservación.","items":{"$ref":"#/components/schemas/SaleDetails"}}},"description":"Objeto de respuesta que representa los detalles de una venta registrada exitosamente."},"SaleDetails":{"type":"object","properties":{"purchaseDateTime":{"type":"string","description":"Fecha y hora en que se realizó la compra, en formato ISO yyyy-MM-dd'T'HH:mm.","example":"2025-07-28T12:47"},"travelDateTime":{"type":"string","description":"Fecha y hora programada del viaje, en formato ISO yyyy-MM-dd'T'HH:mm.","example":"2025-07-30T09:15"},"origin":{"type":"string","description":"Nombre del lugar de salida (origen).","example":"Ciudad de México"},"destination":{"type":"string","description":"Nombre del lugar de llegada (destino).","example":"Guadalajara"},"passengerName":{"type":"string","description":"Nombre completo del pasajero.","example":"Juan Pérez Pérez"},"folio":{"type":"string","description":"Folio o identificador único del boleto asignado a la venta. No existe una longitud exacta; cada línea de transporte puede generar una estructura diferente. En caso de devolver el campo como vacío, es porque en QA los folios no están disponibles","example":"081405023171568"},"userEmail":{"type":"string","description":"Correo electrónico del usuario que realizó la compra.","example":"juan.perez@example.com"},"price":{"type":"number","description":"Precio total del boleto.","format":"double","example":899.5},"transportLine":{"type":"string","description":"Nombre de la línea de transporte o compañía.","example":"Ejecutivos del Sureste"},"seatNumber":{"type":"string","description":"Número de asiento asignado al pasajero. Si no cuenta con selección de asientos, será asignado como SN","example":"12"},"passengerType":{"type":"string","description":"Tipo de pasajero (ej. Adulto, Adulto Mayor (INAPAM), Niño).","example":"Adulto"},"reservationId":{"type":"string","description":"Identificador de la reservación en el sistema.","example":"RFJDVD9D"}},"description":"Detalles de una venta de boleto, incluyendo información de compra y viaje, datos del pasajero e identificadores de reservación."},"SaleOkResponse":{"type":"object","properties":{"code":{"type":"integer","description":"Código de estado","format":"int32","example":200},"message":{"type":"string","description":"Mensaje de respuesta","example":"Operación exitosa"},"body":{"$ref":"#/components/schemas/SaleBodyResponse"}},"description":"Success"},"SaleInternalErrorResponse":{"type":"object","properties":{"code":{"type":"integer","description":"Código de estado HTTP","format":"int32","example":500},"message":{"type":"string","description":"Mensaje descriptivo del error","example":"Ocurrió un error. Por favor, verifica que la información enviada sea correcta"}},"description":"Internal Server Error"},"UnReserveSeatOkResponse":{"type":"object","properties":{"code":{"type":"integer","description":"Código de estado","format":"int32","example":200},"message":{"type":"string","description":"Mensaje de respuesta","example":"Operación exitosa"},"body":{"$ref":"#/components/schemas/UnreservationCreateBodyResponse"}},"description":"Success"},"UnreservationCreateBodyResponse":{"type":"object","properties":{"id":{"type":"string","description":"Identificador único de la reservación eliminada","example":"RMTKIQXD"},"type":{"type":"string","description":"Tipo de recurso.Siempre será 'reservations'","example":"reservations"},"totalPrice":{"type":"number","description":"Precio total de la reservación, incluyendo impuestos si aplica","example":0.0},"state":{"type":"string","description":"Estado actual de la reservación","example":"unreserved","enum":["created","cancelled","unreserved"]},"createdAt":{"type":"string","description":"Fecha y hora en que se eliminó la reservación en formato ISO 8601","example":"2025-08-01T04:16"},"unreservedSeat":{"type":"array","description":"Lista de identificadores de los asientos de ida que no se pudieron desreservar. Los identificadores pueden representar números de asiento o códigos alfanuméricos","example":["01","13A","14"],"items":{"type":"string","description":"Lista de identificadores de los asientos de ida que no se pudieron desreservar. Los identificadores pueden representar números de asiento o códigos alfanuméricos","example":"[\"01\",\"13A\",\"14\"]"}},"unreservedSeatReturn":{"type":"array","description":"Lista de identificadores de los asientos de regreso que no se pudieron desreservar. Los identificadores pueden representar números de asiento o códigos alfanuméricos","example":["02","1A","15"],"items":{"type":"string","description":"Lista de identificadores de los asientos de regreso que no se pudieron desreservar. Los identificadores pueden representar números de asiento o códigos alfanuméricos","example":"[\"02\",\"1A\",\"15\"]"}}},"description":"Respuesta devuelta al eliminar reservación. Contiene información básica sobre la reservación generada, incluyendo su identificador, estado, precio total y fecha de creación"},"UnReserveSeatConflictResponse":{"type":"object","properties":{"code":{"type":"integer","description":"Código de estado","format":"int32","example":409},"message":{"type":"string","description":"Mensaje de respuesta","example":"Uno o más asientos no están reservados. No fue posible desreservarlos"},"body":{"$ref":"#/components/schemas/UnreservationCreateBodyResponse"}},"description":"Conflict"},"ReserveBadRequestResponse":{"type":"object","properties":{"code":{"type":"integer","description":"Código de estado HTTP","format":"int32","example":404},"message":{"type":"string","description":"Mensaje descriptivo del error","example":"Ocurrió un error. Por favor, verifica que la información enviada sea correcta"}},"description":"Bad Request"},"ReserveInternalErrorResponse":{"type":"object","properties":{"code":{"type":"integer","description":"Código de estado HTTP","format":"int32","example":500},"message":{"type":"string","description":"Mensaje descriptivo del error","example":"Ocurrió un error. Por favor, verifica que la información enviada sea correcta"}},"description":"Internal Server Error"},"ReservationCreateBodyRequest":{"required":["arrivalStation","arrivalTime","currency","departureStation","departureTime","fareClass","locale","marketingCarrier","passengers"],"type":"object","properties":{"marketingCarrier":{"type":"string","description":"Identificador del operador comercial que vende el boleto","example":"CBAI_87"},"departureStation":{"type":"string","description":"Clave de la estación de origen","example":"CB_24"},"arrivalStation":{"type":"string","description":"Clave de la estación de destino","example":"CB_25"},"departureTime":{"type":"string","description":"Fecha y hora de salida del viaje en formato ISO 8601"},"arrivalTime":{"type":"string","description":"Fecha y hora estimada de llegada del viaje en formato ISO 8601","example":"2025-08-05T15:20"},"returnDepartureTime":{"type":"string","description":"Fecha y hora de salida del viaje de regreso (opcional), en formato ISO 8601","example":"2025-08-07T06:00"},"returnArrivalTime":{"type":"string","description":"Fecha y hora de llegada del viaje de regreso (opcional), en formato ISO 8601","example":"2025-08-07T09:00"},"locale":{"type":"string","description":"Idioma preferido del cliente en formato ISO 639-1","example":"es","enum":["es"]},"currency":{"type":"string","description":"Moneda de la reservación, en formato ISO 4217","example":"MXN","enum":["MXN"]},"fareClass":{"type":"string","description":"Clase tarifaria del boleto, si aplica","example":"regular","enum":["regular","LUJO","FARE-1","FARE-2","FARE-3"]},"passengers":{"type":"array","description":"Lista de pasajeros a reservar","items":{"$ref":"#/components/schemas/Passenger"}}},"description":"Cuerpo de la solicitud para reservar asientos"},"ReservationCreateBodyResponse":{"type":"object","properties":{"id":{"type":"string","description":"Identificador único de la reservación generada.","example":"RMTKIQXD"},"type":{"type":"string","description":"Tipo de recurso.Siempre será 'reservations'.","example":"reservations"},"totalPrice":{"type":"number","description":"Precio total de la reservación, incluyendo impuestos si aplica.","example":1079.06},"state":{"type":"string","description":"Estado actual de la reservación.","example":"created","enum":["created","cancelled","unreserved"]},"createdAt":{"type":"string","description":"Fecha y hora de creación de la reservación en formato ISO 8601.","example":"2025-08-01T04:16"},"occupiedSeat":{"type":"array","description":"Lista de identificadores de los asientos de ida que ya están ocupados y no pudieron ser reservados. Los identificadores pueden representar números de asiento o códigos alfanuméricos.","example":["01","13A","14"],"items":{"type":"string","description":"Lista de identificadores de los asientos de ida que ya están ocupados y no pudieron ser reservados. Los identificadores pueden representar números de asiento o códigos alfanuméricos.","example":"[\"01\",\"13A\",\"14\"]"}},"occupiedSeatReturn":{"type":"array","description":"Lista de identificadores de los asientos de regreso que ya están ocupados y no pudieron ser reservados. Los identificadores pueden representar números de asiento o códigos alfanuméricos.","example":["02","1A","15"],"items":{"type":"string","description":"Lista de identificadores de los asientos de regreso que ya están ocupados y no pudieron ser reservados. Los identificadores pueden representar números de asiento o códigos alfanuméricos.","example":"[\"02\",\"1A\",\"15\"]"}}},"description":"Respuesta devuelta al crear una nueva reservación. Contiene información básica sobre la reservación generada, incluyendo su identificador, estado, precio total y fecha de creación."},"ReserveSeatOkResponse":{"type":"object","properties":{"code":{"type":"integer","description":"Código de estado","format":"int32","example":200},"message":{"type":"string","description":"Mensaje de respuesta","example":"Operación exitosa"},"body":{"$ref":"#/components/schemas/ReservationCreateBodyResponse"}},"description":"Success"},"ReserveSeatConflictResponse":{"type":"object","properties":{"code":{"type":"integer","description":"Código de estado","format":"int32","example":409},"message":{"type":"string","description":"Mensaje de respuesta","example":"Ya hay uno o más asientos reservados. Por favor, elija otros asientos"},"body":{"$ref":"#/components/schemas/ReservationCreateBodyResponse"}},"description":"Conflict"},"RoundTripSeatsResponse":{"type":"object","properties":{"goTravel":{"$ref":"#/components/schemas/SeatsResponse"},"returnTravel":{"$ref":"#/components/schemas/SeatsResponse"}},"description":"Objeto que contiene la información de asientos y precios para el viaje de ida y el viaje de regreso"},"Seat":{"type":"object","properties":{"code":{"type":"string","description":"Código o identificador del asiento","example":"12"},"fareClass":{"type":"string","description":"Clase tarifaria asignada al asiento","example":"regular","enum":["regular","LUJO","FARE-1","FARE-2","FARE-3"]},"vacant":{"type":"boolean","description":"Indica si el asiento está disponible","example":true},"planta":{"type":"string","description":"Clasificación de la planta según su altura o nivel","example":"NORMAL","enum":["NORMAL","ALTA","BAJA"]}},"description":"Información del asiento individual en el autobús"},"SeatOkResponse":{"type":"object","properties":{"code":{"type":"integer","description":"Código de estado de la respuesta HTTP","format":"int32","example":200},"message":{"type":"string","description":"Mensaje descriptivo de la respuesta","example":"Operación exitosa"},"body":{"$ref":"#/components/schemas/RoundTripSeatsResponse"}},"description":"Respuesta exitosa con la información de asientos disponibles para ida y regreso"},"SeatsResponse":{"type":"object","properties":{"numberOfWc":{"type":"integer","description":"Número de sanitarios disponibles en el autobús","format":"int32","example":1},"numberOfSeats":{"type":"integer","description":"Número total de asientos disponibles","format":"int32","example":36},"seatSelection":{"type":"boolean","description":"Indica si el autobús permite la selección de asientos. Si es false, los números de asiento devueltos son solo representativos","example":true},"adultTotalPrice":{"type":"number","description":"Precio total para pasajeros adultos (incluye IVA)","example":520.0},"childTotalPrice":{"type":"number","description":"Precio total para pasajeros menores (incluye IVA)","example":260.0},"inapamTotalPrice":{"type":"number","description":"Precio total para pasajeros con credencial INAPAM (incluye IVA)","example":260.0},"adultIvaPrice":{"type":"number","description":"Monto del IVA aplicado al precio total de adultos","example":67.0},"childIvaPrice":{"type":"number","description":"Monto del IVA aplicado al precio total de menores","example":33.5},"inapamIvaPrice":{"type":"number","description":"Monto del IVA aplicado al precio total de INAPAM","example":33.5},"adultSubTotalPrice":{"type":"number","description":"Subtotal (sin IVA) para pasajeros adultos","example":453.0},"childSubTotalPrice":{"type":"number","description":"Subtotal (sin IVA) para pasajeros menores","example":226.5},"inapamSubTotalPrice":{"type":"number","description":"Subtotal (sin IVA) para pasajeros con credencial INAPAM","example":226.5},"seats":{"type":"array","description":"ista de asientos disponibles en el autobús. Si la lista está vacía, es porque la línea de autobuses no proporciona el layout de su unidad y, por lo tanto, se desconoce la cantidad de asientos; sin embargo, la disponibilidad está garantizada","items":{"$ref":"#/components/schemas/Seat"}}},"description":"Respuesta con la información detallada de asientos disponibles y precios por tipo de pasajero"},"SeatNoContentResponse":{"type":"object","properties":{"code":{"type":"integer","description":"Código de estado de la respuesta HTTP","format":"int32","example":404},"message":{"type":"string","description":"Mensaje descriptivo de la respuesta","example":"Sin contenido disponible para mostrar"},"body":{"type":"object","description":"Objeto nulo; no se encontraron asientos disponibles","nullable":true}},"description":"No Content"},"SeatInternalErrorResponse":{"type":"object","properties":{"code":{"type":"integer","description":"Código de estado HTTP","format":"int32","example":500},"message":{"type":"string","description":"Mensaje descriptivo del error","example":"Internal Server Error"}},"description":"Internal Server Error"},"OriginOkResponse":{"type":"object","properties":{"code":{"type":"integer","description":"Código de estado","format":"int32","example":200},"message":{"type":"string","description":"Mensaje de respuesta","example":"Operación exitosa"},"body":{"type":"array","description":"Estaciones destino","items":{"$ref":"#/components/schemas/Stations"}}},"description":"Success"},"Stations":{"type":"object","properties":{"id":{"type":"string","description":"Identificador único de la estación","example":"MX001"},"nombre":{"type":"string","description":"Nombre de la estación","example":"Terminal Norte"},"ciudad":{"type":"string","description":"Ciudad donde se encuentra la estación","example":"Ciudad de México"},"estado":{"type":"string","description":"Estado donde se encuentra la estación","example":"CDMX"}},"description":"Representa una estación de autobuses con ciudad y estado."},"OriginNoContentResponse":{"type":"object","properties":{"code":{"type":"integer","description":"Código de estado HTTP","format":"int32","example":404},"message":{"type":"string","description":"Mensaje descriptivo de la respuesta","example":"No hay contenido disponible. Intenta nuevamente más tarde"}},"description":"No Content"},"AuthInternalErrorResponse":{"type":"object","properties":{"code":{"type":"integer","description":"Código de estado HTTP","format":"int32","example":500},"message":{"type":"string","description":"Mensaje descriptivo del error","example":"Internal Server Error"}},"description":"Internal Server Error"},"FindBodyResponse":{"type":"object","properties":{"bookedOut":{"type":"boolean","description":"Indica si el viaje está agotado","example":false},"arrivalTime":{"type":"string","description":"Hora de llegada en formato ISO 8601","example":"2025-07-17T12:30"},"departureTime":{"type":"string","description":"Hora de salida en formato ISO 8601","example":"2025-07-17T10:00"},"duration":{"type":"integer","description":"Duración del viaje en minutos","format":"int64","example":150},"fareClassCode":{"type":"string","description":"Clase tarifaria","example":"regular","enum":["regular","LUJO","FARE-1","FARE-2","FARE-3"]},"price":{"type":"number","description":"Precio base del boleto","example":450.5},"departureStation":{"type":"string","description":"ID de la estación de salida","example":"ST001"},"arrivalStation":{"type":"string","description":"ID de la estación de llegada","example":"ST050"},"departureStationName":{"type":"string","description":"Nombre de la estación de salida","example":"Central de Autobuses CDMX"},"arrivalStationName":{"type":"string","description":"Nombre de la estación de llegada","example":"Terminal Monterrey"},"departureStationDirection":{"type":"string","description":"Dirección de la estación de salida","example":"Av. Insurgentes Sur 1234"},"arrivalStationDirection":{"type":"string","description":"Dirección de la estación de llegada","example":"Blvd. Constitución 4567"},"idMarketingCarrier":{"type":"string","description":"ID del operador o línea de autobús","example":"MARK123"},"tradeNameMarketingCarrier":{"type":"string","description":"Nombre comercial del operador","example":"Autobuses Rápidos S.A."},"urlLogo":{"type":"string","description":"URL del logo del operador","example":"https://example.com/logos/mark123.png"},"fareFeatures":{"type":"array","description":"Características de la tarifa, como WiFi o aire acondicionado","example":["WiFi","Aire acondicionado"],"items":{"type":"string","description":"Características de la tarifa, como WiFi o aire acondicionado","example":"[\"WiFi\",\"Aire acondicionado\"]"}}},"description":"Respuesta con detalles de itinerarios y tarifas para una ruta de autobús"},"ItinerariesBodyResponse":{"type":"object","properties":{"tradeNameMarketingCarrier":{"type":"string","description":"Nombre comercial de la línea de autobús","example":"Rapidos de Norte"},"itineraries":{"type":"array","description":"Lista de itinerarios disponibles para la línea de autobús","items":{"$ref":"#/components/schemas/FindBodyResponse"}}},"description":"Respuesta que contiene la información de itinerarios agrupados por línea de autobús"},"ItineraryOkResponse":{"type":"object","properties":{"code":{"type":"integer","description":"Código de estado","format":"int32","example":200},"message":{"type":"string","description":"Mensaje de respuesta","example":"Operación exitosa"},"body":{"type":"array","description":"Array de itinerarios disponibles agrupados por línea de autobús","items":{"$ref":"#/components/schemas/ItinerariesBodyResponse"}}},"description":"Success"},"ItineraryNoContentResponse":{"type":"object","properties":{"code":{"type":"integer","description":"Código de estado HTTP","format":"int32","example":404},"message":{"type":"string","description":"Mensaje descriptivo de la respuesta","example":"No se encontraron itinerarios disponibles con los datos proporcionados"}},"description":"No Content"},"ItineraryTooManyRequestsResponse":{"type":"object","properties":{"code":{"type":"integer","description":"Código de estado HTTP","format":"int32","example":429},"message":{"type":"string","description":"Mensaje descriptivo del error","example":"Nuestros servidores recibieron demasiadas peticiones. Por favor, intenta nuevamente en un minuto"}},"description":"Too Many Requests"},"ItineraryInternalErrorResponse":{"type":"object","properties":{"code":{"type":"integer","description":"Código de estado HTTP","format":"int32","example":500},"message":{"type":"string","description":"Mensaje descriptivo del error","example":"Internal Server Error"}},"description":"Internal Server Error"},"DestinyOkResponse":{"type":"object","properties":{"code":{"type":"integer","description":"Código de estado","format":"int32","example":200},"message":{"type":"string","description":"Mensaje de respuesta","example":"Operación exitosa"},"body":{"type":"array","description":"Estaciones origen","items":{"$ref":"#/components/schemas/Stations"}}},"description":"Success"},"DestinyNoContentResponse":{"type":"object","properties":{"code":{"type":"integer","description":"Código de estado HTTP","format":"int32","example":204},"message":{"type":"string","description":"Mensaje descriptivo de la respuesta","example":"No hay contenido disponible. Intenta nuevamente más tarde"}},"description":"No Content"},"DestinyInternalErrorResponse":{"type":"object","properties":{"code":{"type":"integer","description":"Código de estado HTTP","format":"int32","example":500},"message":{"type":"string","description":"Mensaje descriptivo del error","example":"Internal Server Error"}},"description":"Internal Server Error"},"HealthOkReponse":{"type":"object","properties":{"status":{"type":"string","description":"Estado del servicio","example":"UP"},"message":{"type":"string","description":"Mensaje que indica el estado de disponibilidad del servicio","example":"El servicio está operativo"}},"description":"Respuesta del estado del servicio"},"HealthUnavailableReponse":{"type":"object","properties":{"status":{"type":"string","description":"Estado del servicio","example":"DOWN"},"message":{"type":"string","description":"Mensaje que indica el estado de disponibilidad del servicio","example":"El servicio no está disponible temporalmente"}},"description":"Respuesta del estado del servicio"},"AuthOkBody":{"type":"object","properties":{"token":{"type":"string","description":"Token JWT para autenticación","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}},"description":"Respuesta con token JWT generado"},"AuthOkReponse":{"type":"object","properties":{"code":{"type":"integer","description":"Código de estado","format":"int32","example":200},"message":{"type":"string","description":"Mensaje de respuesta","example":"Operación exitosa"},"body":{"$ref":"#/components/schemas/AuthOkBody"}},"description":"Success"}}}}